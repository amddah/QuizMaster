# Quiz Attempt Flow - Visual Guide

## ğŸ“± Complete Quiz Attempt Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     QUIZ ATTEMPT LIFECYCLE                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LOGIN   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ Get JWT Token
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Set Auth Token   â”‚
â”‚ ApiClient.set... â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1ï¸âƒ£  START ATTEMPT                                              â”‚
â”‚                                                                  â”‚
â”‚  POST /api/v1/attempts/start                                    â”‚
â”‚  Body: { "quiz_id": "..." }                                     â”‚
â”‚                                                                  â”‚
â”‚  Response:                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ QuizAttempt {                                       â”‚        â”‚
â”‚  â”‚   id: "attempt_123"                                 â”‚        â”‚
â”‚  â”‚   quiz_id: "quiz_456"                               â”‚        â”‚
â”‚  â”‚   student_id: "student_789"                         â”‚        â”‚
â”‚  â”‚   answers: []                                       â”‚        â”‚
â”‚  â”‚   total_score: 0                                    â”‚        â”‚
â”‚  â”‚   max_score: 100                                    â”‚        â”‚
â”‚  â”‚   started_at: "2025-10-31T10:00:00Z"                â”‚        â”‚
â”‚  â”‚   completed_at: null                                â”‚        â”‚
â”‚  â”‚ }                                                    â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ Save attempt.id for next steps
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2ï¸âƒ£  SUBMIT ANSWERS (Repeat for each question)                  â”‚
â”‚                                                                  â”‚
â”‚  POST /api/v1/attempts/answer                                   â”‚
â”‚  Body: {                                                         â”‚
â”‚    "attempt_id": "attempt_123",                                 â”‚
â”‚    "question_id": "q1",                                         â”‚
â”‚    "answer": "true",                                            â”‚
â”‚    "time_to_answer": 8                                          â”‚
â”‚  }                                                               â”‚
â”‚                                                                  â”‚
â”‚  Response:                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ {                                                   â”‚        â”‚
â”‚  â”‚   "is_correct": true,                               â”‚        â”‚
â”‚  â”‚   "points_earned": 10.5,                            â”‚        â”‚
â”‚  â”‚   "message": "Correct!"                             â”‚        â”‚
â”‚  â”‚ }                                                    â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   Q1     â”‚â†’â”‚   Q2     â”‚â†’â”‚   Q3     â”‚â†’â”‚   ...    â”‚       â”‚
â”‚  â”‚ Answer   â”‚  â”‚ Answer   â”‚  â”‚ Answer   â”‚  â”‚ Answer   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ All questions answered
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3ï¸âƒ£  COMPLETE ATTEMPT                                           â”‚
â”‚                                                                  â”‚
â”‚  PUT /api/v1/attempts/complete                                  â”‚
â”‚  Body: { "id": "attempt_123" }                                  â”‚
â”‚                                                                  â”‚
â”‚  Response:                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ QuizAttempt {                                       â”‚        â”‚
â”‚  â”‚   id: "attempt_123"                                 â”‚        â”‚
â”‚  â”‚   answers: [                                        â”‚        â”‚
â”‚  â”‚     { question_id: "q1", is_correct: true, ... },   â”‚        â”‚
â”‚  â”‚     { question_id: "q2", is_correct: false, ... }   â”‚        â”‚
â”‚  â”‚   ]                                                  â”‚        â”‚
â”‚  â”‚   total_score: 85.5                                 â”‚        â”‚
â”‚  â”‚   max_score: 100                                    â”‚        â”‚
â”‚  â”‚   time_taken: 120                                   â”‚        â”‚
â”‚  â”‚   completed_at: "2025-10-31T10:02:00Z"              â”‚        â”‚
â”‚  â”‚   xp_earned: 250                                    â”‚        â”‚
â”‚  â”‚   xp_details: {                                     â”‚        â”‚
â”‚  â”‚     base_xp: 170                                    â”‚        â”‚
â”‚  â”‚     speed_bonus: 30                                 â”‚        â”‚
â”‚  â”‚     accuracy_bonus: 25                              â”‚        â”‚
â”‚  â”‚     difficulty_bonus: 15                            â”‚        â”‚
â”‚  â”‚     streak_bonus: 10                                â”‚        â”‚
â”‚  â”‚     total_xp: 250                                   â”‚        â”‚
â”‚  â”‚     leveled_up: true                                â”‚        â”‚
â”‚  â”‚     new_level: 5                                    â”‚        â”‚
â”‚  â”‚   }                                                  â”‚        â”‚
â”‚  â”‚ }                                                    â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4ï¸âƒ£  VIEW RESULTS & LEADERBOARD (Optional)                      â”‚
â”‚                                                                  â”‚
â”‚  GET /api/v1/attempts/{id}/xp                                   â”‚
â”‚  GET /api/v1/leaderboards/quiz/{quiz_id}                        â”‚
â”‚  GET /api/v1/leaderboards/quiz/{quiz_id}/my-rank                â”‚
â”‚  GET /api/v1/leaderboards/global                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Data Flow Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   UI Layer   â”‚ (Activity/Fragment/Compose)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ User actions
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ViewModel   â”‚ LiveData/StateFlow
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Business logic
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Repository        â”‚ QuizAttemptRepository
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ API calls
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Service         â”‚ QuizAttemptApiService (Retrofit)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ HTTP requests
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ApiClient         â”‚ OkHttp + Gson
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Network
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend Server      â”‚ http://10.0.2.2:8080
â”‚  (Go + MongoDB)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ State Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Quiz Attempt States                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. NOT_STARTED
   â†“
   [User clicks "Start Quiz"]
   â†“
2. IN_PROGRESS
   â”œâ”€ started_at: "2025-10-31T10:00:00Z"
   â”œâ”€ completed_at: null
   â”œâ”€ answers: []
   â””â”€ total_score: 0
   â†“
   [User answers questions]
   â†“
3. ANSWERING
   â”œâ”€ answers: [Answer, Answer, ...]
   â””â”€ total_score: updating...
   â†“
   [User completes all questions]
   â†“
4. COMPLETED
   â”œâ”€ started_at: "2025-10-31T10:00:00Z"
   â”œâ”€ completed_at: "2025-10-31T10:02:00Z"
   â”œâ”€ answers: [all answers]
   â”œâ”€ total_score: final score
   â”œâ”€ xp_earned: calculated XP
   â””â”€ xp_details: { bonuses, level up }
```

## ğŸ“Š XP Calculation Breakdown

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               XP CALCULATION                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

BASE XP (from correct answers)
  â”œâ”€ Question 1: 10 points â†’ 10 XP
  â”œâ”€ Question 2: 15 points â†’ 15 XP
  â”œâ”€ Question 3: 20 points â†’ 20 XP
  â””â”€ Total: 45 XP

SPEED BONUS (fast completion)
  â””â”€ Completed in < 60s â†’ +30 XP

ACCURACY BONUS (high accuracy)
  â””â”€ 90%+ correct â†’ +25 XP

DIFFICULTY BONUS (quiz difficulty)
  â”œâ”€ Easy: +0 XP
  â”œâ”€ Medium: +15 XP
  â””â”€ Hard: +30 XP

STREAK BONUS (daily streak)
  â””â”€ 7 day streak â†’ +10 XP

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TOTAL XP = 45 + 30 + 25 + 15 + 10
         = 125 XP

LEVEL UP CHECK
  â”œâ”€ Current XP: 875
  â”œâ”€ Gained: 125
  â”œâ”€ New Total: 1000
  â””â”€ Level 4 â†’ Level 5 ğŸ‰
```

## ğŸ† Leaderboard Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          QUIZ LEADERBOARD                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Quiz: "Introduction to Go Programming"

â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Rank â”‚ Student      â”‚ Score  â”‚ Time   â”‚ %       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1   â”‚ Alice        â”‚ 95/100 â”‚ 45s    â”‚ 95.0%   â”‚
â”‚  2   â”‚ Bob          â”‚ 90/100 â”‚ 60s    â”‚ 90.0%   â”‚
â”‚  3   â”‚ Charlie      â”‚ 85/100 â”‚ 55s    â”‚ 85.0%   â”‚
â”‚  4   â”‚ You          â”‚ 80/100 â”‚ 70s    â”‚ 80.0%   â”‚ â† Your rank
â”‚  5   â”‚ Eve          â”‚ 75/100 â”‚ 80s    â”‚ 75.0%   â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GET /leaderboards/quiz/{quiz_id}
  â†’ Returns all entries

GET /leaderboards/quiz/{quiz_id}/my-rank
  â†’ Returns: { "rank": 4, "total_participants": 50 }
```

## ğŸ” Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          AUTHENTICATION                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. Register/Login
   POST /api/v1/auth/login
   â†“
2. Receive JWT Token
   Response: { "token": "eyJhbG...", "user": {...} }
   â†“
3. Set Token in ApiClient
   ApiClient.setAuthToken(token)
   â†“
4. Token added to all requests
   Header: "Authorization: Bearer eyJhbG..."
   â†“
5. Backend validates token
   âœ“ Valid â†’ Process request
   âœ— Invalid â†’ 401 Unauthorized
```

## ğŸ¨ UI Flow Suggestion

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Quiz List   â”‚
â”‚ Screen      â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚ [Select Quiz]
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Quiz Detail â”‚
â”‚ Screen      â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚ [Start Quiz]
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Question 1  â”‚  â†’    â”‚  Feedback    â”‚
â”‚ Screen      â”‚       â”‚  (Correct!)  â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚ [Next]
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Question 2  â”‚  â†’    â”‚  Feedback    â”‚
â”‚ Screen      â”‚       â”‚  (Wrong)     â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚ [Next]
      â–¼
      ...
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Results     â”‚
â”‚ Screen      â”‚  Shows:
â”‚             â”‚  â€¢ Score: 85/100
â”‚             â”‚  â€¢ Time: 2m 30s
â”‚             â”‚  â€¢ XP: +250
â”‚             â”‚  â€¢ Level Up: 4â†’5
â”‚             â”‚  â€¢ Rank: #4/50
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”œâ”€â†’ [View Leaderboard]
      â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚   â”‚ Leaderboard  â”‚
      â”‚   â”‚ Screen       â”‚
      â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â””â”€â†’ [Back to Quizzes]
```

## ğŸ“± Sample ViewModel Implementation

```kotlin
class QuizAttemptViewModel : ViewModel() {
    
    private val repository = QuizAttemptRepository()
    
    // State
    sealed class UiState {
        object Idle : UiState()
        object Loading : UiState()
        data class QuizStarted(val attempt: QuizAttempt) : UiState()
        data class QuestionAnswered(val isCorrect: Boolean) : UiState()
        data class QuizCompleted(val result: QuizAttempt) : UiState()
        data class Error(val message: String) : UiState()
    }
    
    private val _uiState = MutableStateFlow<UiState>(UiState.Idle)
    val uiState: StateFlow<UiState> = _uiState.asStateFlow()
    
    private var currentAttemptId: String? = null
    
    // Actions
    fun startQuiz(quizId: String) {
        viewModelScope.launch {
            _uiState.value = UiState.Loading
            
            repository.startAttempt(quizId).fold(
                onSuccess = { attempt ->
                    currentAttemptId = attempt.id
                    _uiState.value = UiState.QuizStarted(attempt)
                },
                onFailure = { error ->
                    _uiState.value = UiState.Error(error.message ?: "Failed")
                }
            )
        }
    }
    
    fun submitAnswer(questionId: String, answer: String, timeToAnswer: Int) {
        val attemptId = currentAttemptId ?: return
        
        viewModelScope.launch {
            repository.submitAnswer(attemptId, questionId, answer, timeToAnswer)
                .onSuccess { response ->
                    val isCorrect = response["is_correct"] as? Boolean ?: false
                    _uiState.value = UiState.QuestionAnswered(isCorrect)
                }
        }
    }
    
    fun completeQuiz() {
        val attemptId = currentAttemptId ?: return
        
        viewModelScope.launch {
            _uiState.value = UiState.Loading
            
            repository.completeAttempt(attemptId).fold(
                onSuccess = { result ->
                    _uiState.value = UiState.QuizCompleted(result)
                },
                onFailure = { error ->
                    _uiState.value = UiState.Error(error.message ?: "Failed")
                }
            )
        }
    }
}
```

---

**For more details, see:**
- `QUIZ_ATTEMPT_INTEGRATION.md` - Full integration guide
- `QUIZ_ATTEMPT_QUICK_REFERENCE.md` - Quick reference
- `QUIZ_ATTEMPT_SUMMARY.md` - Summary of changes
